!function(e){function t(t){for(var n,i,c=t[0],u=t[1],l=t[2],f=0,p=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(s&&s(t);p.length;)p.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,c=1;c<r.length;c++){var u=r[c];0!==o[u]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={7:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=this.webpackJsonp=this.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;a.push([42,0]),r()}([
/*!*******************************************************!*\
  !*** ./src/common/render/2d/twoDimensionConverter.ts ***!
  \*******************************************************/
/*! exports provided: twoDimensionConverter */
/*! exports used: twoDimensionConverter */,function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r]),r%2==1&&t.push(0);return t}},
/*!***********************************!*\
  !*** ./src/common/util/colors.ts ***!
  \***********************************/
/*! exports provided: hexToRgb, rgbToHex */
/*! exports used: hexToRgb, rgbToHex */function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),r={red:parseInt(t[1],16),green:parseInt(t[2],16),blue:parseInt(t[3],16)};return r.red/=255,r.green/=255,r.blue/=255,r},o=function(e){var t=(255*e).toString(16);return 1===t.length?"0".concat(t):t},a=function(e){console.assert(e.red<=1,"Red is greater than 1");var t=o(e.red);console.assert(e.green<=1,"Green is greater than 1");var r=o(e.green);console.assert(e.blue<=1,"Blue is greater than 1");var n=o(e.blue);return"#".concat(t).concat(r).concat(n)}},
/*!*******************************!*\
  !*** ./src/common/util/m4.ts ***!
  \*******************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,r){"use strict";var n={perspective:function(e,t,r,n){var o=Math.tan(.5*Math.PI-.5*e),a=1/(r-n);return[o/t,0,0,0,0,o,0,0,0,0,(r+n)*a,-1,0,0,r*n*a*2,0]},projection:function(e,t,r){return[2/e,0,0,0,0,-2/t,0,0,0,0,2/r,0,-1,1,0,1]},multiply:function(e,t){var r=e[0],n=e[1],o=e[2],a=e[3],i=e[4],c=e[5],u=e[6],l=e[7],s=e[8],f=e[9],p=e[10],h=e[11],m=e[12],d=e[13],y=e[14],b=e[15],v=t[0],g=t[1],O=t[2],E=t[3],j=t[4],S=t[5],w=t[6],x=t[7],C=t[8],A=t[9],P=t[10],R=t[11],k=t[12],N=t[13],D=t[14],_=t[15];return[v*r+g*i+O*s+E*m,v*n+g*c+O*f+E*d,v*o+g*u+O*p+E*y,v*a+g*l+O*h+E*b,j*r+S*i+w*s+x*m,j*n+S*c+w*f+x*d,j*o+S*u+w*p+x*y,j*a+S*l+w*h+x*b,C*r+A*i+P*s+R*m,C*n+A*c+P*f+R*d,C*o+A*u+P*p+R*y,C*a+A*l+P*h+R*b,k*r+N*i+D*s+_*m,k*n+N*c+D*f+_*d,k*o+N*u+D*p+_*y,k*a+N*l+D*h+_*b]},translation:function(e,t,r){return[1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1]},xRotation:function(e){var t=Math.cos(e),r=Math.sin(e);return[1,0,0,0,0,t,r,0,0,-r,t,0,0,0,0,1]},yRotation:function(e){var t=Math.cos(e),r=Math.sin(e);return[t,0,-r,0,0,1,0,0,r,0,t,0,0,0,0,1]},zRotation:function(e){var t=Math.cos(e),r=Math.sin(e);return[t,r,0,0,-r,t,0,0,0,0,1,0,0,0,0,1]},scaling:function(e,t,r){return[e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1]},translate:function(e,t,r,o){return n.multiply(e,n.translation(t,r,o))},xRotate:function(e,t){return n.multiply(e,n.xRotation(t))},yRotate:function(e,t){return n.multiply(e,n.yRotation(t))},zRotate:function(e,t){return n.multiply(e,n.zRotation(t))},scale:function(e,t,r,o){return n.multiply(e,n.scaling(t,r,o))},inverse:function(e){var t=e[0],r=e[1],n=e[2],o=e[3],a=e[4],i=e[5],c=e[6],u=e[7],l=e[8],s=e[9],f=e[10],p=e[11],h=e[12],m=e[13],d=e[14],y=e[15],b=f*y,v=d*p,g=c*y,O=d*u,E=c*p,j=f*u,S=n*y,w=d*o,x=n*p,C=f*o,A=n*u,P=c*o,R=l*m,k=h*s,N=a*m,D=h*i,_=a*s,T=l*i,I=t*m,z=h*r,F=t*s,M=l*r,U=t*i,L=a*r,B=b*i+O*s+E*m-(v*i+g*s+j*m),V=v*r+S*s+C*m-(b*r+w*s+x*m),W=g*r+w*i+A*m-(O*r+S*i+P*m),Y=j*r+x*i+P*s-(E*r+C*i+A*s),G=1/(t*B+a*V+l*W+h*Y);return[G*B,G*V,G*W,G*Y,G*(v*a+g*l+j*h-(b*a+O*l+E*h)),G*(b*t+w*l+x*h-(v*t+S*l+C*h)),G*(O*t+S*a+P*h-(g*t+w*a+A*h)),G*(E*t+C*a+A*l-(j*t+x*a+P*l)),G*(R*u+D*p+_*y-(k*u+N*p+T*y)),G*(k*o+I*p+M*y-(R*o+z*p+F*y)),G*(N*o+z*u+U*y-(D*o+I*u+L*y)),G*(T*o+F*u+L*p-(_*o+M*u+U*p)),G*(N*f+T*d+k*c-(_*d+R*c+D*f)),G*(F*d+R*n+z*f-(I*f+M*d+k*n)),G*(I*c+L*d+D*n-(U*d+N*n+z*c)),G*(U*f+_*n+M*c-(F*c+L*f+T*n))]},vectorMultiply:function(e,t){for(var r=[],n=0;n<4;++n){r[n]=0;for(var o=0;o<4;++o)r[n]+=e[o]*t[4*o+n]}return r},lookAt:function(e,t,r){var o=n.normalize(n.subtractVectors(e,t)),a=n.normalize(n.cross(r,o)),i=n.normalize(n.cross(o,a));return[a[0],a[1],a[2],0,i[0],i[1],i[2],0,o[0],o[1],o[2],0,e[0],e[1],e[2],1]},normalize:function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return t>1e-5?[e[0]/t,e[1]/t,e[2]/t]:[0,0,0]},cross:function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},subtractVectors:function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]},identity:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},transpose:function(e){var t=e[0],r=e[1],n=e[2],o=e[3],a=e[4],i=e[5],c=e[6],u=e[7],l=e[8],s=e[9],f=e[10],p=e[11];return[t,a,l,e[12],r,i,s,e[13],n,c,f,e[14],o,u,p,e[15]]}};t.a=n},
/*!************************************!*\
  !*** ./src/common/util/degrees.ts ***!
  \************************************/
/*! exports provided: degreesToRadians, radiansToDegrees */
/*! exports used: degreesToRadians, radiansToDegrees */function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));var n=r(/*! ./numbers */14),o=function(e){return e%360*Math.PI/180},a=function(e){return Object(n.a)(180*e/Math.PI)%360}},
/*!***************************************************!*\
  !*** ./src/common/setup/getScriptContentsById.ts ***!
  \***************************************************/
/*! exports provided: getScriptContentsById */
/*! exports used: getScriptContentsById */function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return document.getElementById(e).text}},
/*!***************************************************!*\
  !*** ./src/common/model/canvas3DShapeBuilders.ts ***!
  \***************************************************/
/*! exports provided: buildShape */
/*! exports used: buildShape */function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return i}));var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o({type:e,position:{x:0,y:0,z:0},dimensions:{width:1,height:1,depth:1},color:{red:0,green:0,blue:0},translation:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1}},t)}},
/*!************************************!*\
  !*** ./src/common/util/strings.ts ***!
  \************************************/
/*! exports provided: toFirstUpperCase */
/*! exports used: toFirstUpperCase */function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}},
/*!****************************************!*\
  !*** ./src/common/components/Card.tsx ***!
  \****************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,r){"use strict";var n=r(/*! react */0),o=r.n(n);t.a=function(e){var t=e.title,r=e.subtitle,n=e.children;return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},t),r&&o.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},r),n))}},
/*!****************************************!*\
  !*** ./src/common/render/2d/circle.ts ***!
  \****************************************/
/*! exports provided: renderCircle */
/*! exports used: renderCircle */function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(/*! ./twoDimensionConverter */1),o=function(e,t){for(var r=t.dimensions.height/2,o=t.dimensions.width/t.dimensions.height,i=2*Math.PI/a,c=t.position.x,u=t.position.y,l=[c,u],s=a;s>=0;s--){var f=s*i,p=c+r*Math.cos(f)*o,h=u-r*Math.sin(f);l.push(p,h)}"z"in t.position&&(l=Object(n.a)(l)),e.bufferData(e.ARRAY_BUFFER,new Float32Array(l),e.STATIC_DRAW),e.drawArrays(e.TRIANGLE_FAN,0,a+2)},a=24},
/*!*******************************************!*\
  !*** ./src/common/render/2d/rectangle.ts ***!
  \*******************************************/
/*! exports provided: renderRectangle */
/*! exports used: renderRectangle */function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(/*! ./twoDimensionConverter */1),o=function(e,t){var r=t.position.x-t.dimensions.width/2,o=t.position.y-t.dimensions.height/2,a=t.position.x+t.dimensions.width/2,i=t.position.y+t.dimensions.height/2,c=[r,o,a,o,r,i,r,i,a,o,a,i];"z"in t.position&&(c=Object(n.a)(c)),e.bufferData(e.ARRAY_BUFFER,new Float32Array(c),e.STATIC_DRAW),e.drawArrays(e.TRIANGLES,0,6)}},
/*!**************************************!*\
  !*** ./src/common/render/2d/star.ts ***!
  \**************************************/
/*! exports provided: renderStar */
/*! exports used: renderStar */function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(/*! ./twoDimensionConverter */1);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=function(e,t){for(var r=t.dimensions.height/2,a=t.dimensions.width/t.dimensions.height,i=2*Math.PI/5,c=t.position.x,u=t.position.y,l={},s=0;s<5;s++){var f=Math.PI/2-s*i,p=c+r*Math.cos(f)*a,h=u-r*Math.sin(f);l["".concat(s+1)]=[p,h]}l[6]=[c,u+r*(Math.tan(.2*Math.PI)-Math.tan(.1*Math.PI))];var m=[].concat(o(l[1]),o(l[3]),o(l[6])),d=[].concat(o(l[1]),o(l[6]),o(l[4])),y=[].concat(o(l[5]),o(l[2]),o(l[6])),b=[].concat(o(m),o(d),o(y));"z"in t.position&&(b=Object(n.a)(b)),e.bufferData(e.ARRAY_BUFFER,new Float32Array(b),e.STATIC_DRAW),e.drawArrays(e.TRIANGLES,0,9)}},
/*!******************************************!*\
  !*** ./src/common/render/2d/triangle.ts ***!
  \******************************************/
/*! exports provided: renderTriangle */
/*! exports used: renderTriangle */function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(/*! ./twoDimensionConverter */1),o=function(e,t){var r=t.position.x-t.dimensions.width/2,o=t.position.y+t.dimensions.height/2,a=t.position.x+t.dimensions.width/2,i=t.position.y+t.dimensions.height/2,c=[r,o,t.position.x,t.position.y-t.dimensions.height/2,a,i];"z"in t.position&&(c=Object(n.a)(c)),e.bufferData(e.ARRAY_BUFFER,new Float32Array(c),e.STATIC_DRAW),e.drawArrays(e.TRIANGLES,0,3)}},
/*!******************************************************!*\
  !*** ./src/common/setup/createProgramFromScripts.ts ***!
  \******************************************************/
/*! exports provided: createProgramFromScripts */
/*! exports used: createProgramFromScripts */function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e,t,r){var n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,t),e.compileShader(n);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,r),e.compileShader(o);var a=e.createProgram();return e.attachShader(a,n),e.attachShader(a,o),e.linkProgram(a),a}},
/*!************************************!*\
  !*** ./src/common/util/numbers.ts ***!
  \************************************/
/*! exports provided: truncate */
/*! exports used: truncate */function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return Math.round(100*e)/100}},
/*!****************************************************!*\
  !*** ./src/common/components/form/FormVector3.tsx ***!
  \****************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,r){"use strict";var n=r(/*! react */0),o=r.n(n);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a=function(e){var t=e.title,r=e.value,n=e.step,a=e.disabled,u=e.onChange,l=function(e){return function(t){var n=Number(t.target.value);u(i(i({},r),{},c({},e,n)))}};return o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:"col-md-12"},t," [",o.a.createElement("label",{style:{cursor:"pointer"},htmlFor:"form-".concat(t,"-x")},"X"),","," ",o.a.createElement("label",{style:{cursor:"pointer"},htmlFor:"form-".concat(t,"-y")},"Y"),","," ",o.a.createElement("label",{style:{cursor:"pointer"},htmlFor:"form-".concat(t,"-z")},"Z"),"]"),o.a.createElement("div",{className:"form-group col-md-4"},o.a.createElement("input",{type:"number",className:"form-control",id:"form-".concat(t,"-x"),disabled:a,step:n,value:r.x,onChange:l("x")})),o.a.createElement("div",{className:"form-group col-md-4"},o.a.createElement("input",{type:"number",className:"form-control",id:"form-".concat(t,"-y"),disabled:a,step:n,value:r.y,onChange:l("y")})),o.a.createElement("div",{className:"form-group col-md-4"},o.a.createElement("input",{type:"number",className:"form-control",id:"form-".concat(t,"-z"),disabled:a,step:n,value:r.z,onChange:l("z")})))}},,
/*!******************************************!*\
  !*** ./src/common/components/NavBar.tsx ***!
  \******************************************/
/*! exports provided: default */
/*! exports used: default */,function(e,t,r){"use strict";var n=r(/*! react */0),o=r.n(n);t.a=function(e){var t=e.title;return document.title=t,o.a.createElement(o.a.Fragment,null,o.a.createElement("nav",{"aria-label":"breadcrumb"},o.a.createElement("ol",{className:"breadcrumb"},o.a.createElement("li",{className:"breadcrumb-item"},o.a.createElement("a",{href:"/"},"Home")),o.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},t))),o.a.createElement("h1",null,t))}},
/*!************************************!*\
  !*** ./src/common/util/objects.ts ***!
  \************************************/
/*! exports provided: objectEquality */
/*! exports used: objectEquality */function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(/*! fast-deep-equal */23),o=r.n(n),a=function(e,t){return o()(e,t)}},
/*!***************************************************!*\
  !*** ./src/common/render/3d/index.ts + 1 modules ***!
  \***************************************************/
/*! exports provided: renderShape */
/*! exports used: renderShape */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/render/2d/circle.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/render/2d/rectangle.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/render/2d/star.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/render/2d/triangle.ts */,function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(9),o=r(10),a=r(11),i=r(12),c=function(e){var t=e.shape,r=e.context,c=e.bufferCoords,u=e.normalBuffer;switch(t.type){case"CUBE":!function(e,t,r,n){var o=t.position.x-t.dimensions.width/2,a=t.position.y-t.dimensions.height/2,i=t.position.z+t.dimensions.depth/2,c=t.position.x+t.dimensions.width/2,u=t.position.y+t.dimensions.height/2,l=t.position.z-t.dimensions.depth/2,s=[o,u,i],f=[c,u,i],p=[c,a,i],h=[o,a,i],m=[o,u,l],d=[c,u,l],y=[c,a,l],b=[o,a,l],v=[].concat(s,f,p,s,p,h),g=[].concat(f,d,y,f,y,p),O=[].concat(d,m,b,d,b,y),E=[].concat(m,s,h,m,h,b),j=[].concat(s,m,d,s,d,f),S=[].concat(h,p,y,h,y,b),w=[].concat(v,g,O,E,j,S);if(e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array(w),e.STATIC_DRAW),n){var x=[].concat([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1],[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0],[0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1],[-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0],[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],[0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0]);e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(x),e.STATIC_DRAW)}e.drawArrays(e.TRIANGLES,0,36)}(r,t,c,u);break;case"RECTANGLE":Object(o.a)(r,t);break;case"TRIANGLE":Object(i.a)(r,t);break;case"CIRCLE":Object(n.a)(r,t);break;case"STAR":Object(a.a)(r,t);break;default:console.error("Rendering unhandled shape type",t)}}},,,
/*!**************************************************!*\
  !*** ./src/common/components/form/FormColor.tsx ***!
  \**************************************************/
/*! exports provided: default */
/*! exports used: default */,function(e,t,r){"use strict";var n=r(/*! ../../util/colors */2),o=r(/*! react */0),a=r.n(o);t.a=function(e){var t=e.color,r=e.onChange;return a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-md-12"},a.a.createElement("label",{htmlFor:"form-color"},"Color"),a.a.createElement("input",{type:"color",className:"form-control",id:"form-color",value:Object(n.b)(t),onChange:function(e){var t=Object(n.a)(e.target.value);r(t)}})))}},,,,,,,,,,,,,,,,
/*!***********************************************!*\
  !*** ./src/assignment7/index.ts + 15 modules ***!
  \***********************************************/
/*! no exports provided */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/components/Card.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/components/NavBar.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/components/form/FormColor.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/components/form/FormVector3.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/model/canvas3DShapeBuilders.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/render/3d/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/setup/createProgramFromScripts.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/setup/getScriptContentsById.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/util/colors.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/util/degrees.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/util/m4.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/util/objects.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/util/strings.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-dom/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react/index.js (<- Module is not an ECMAScript module) */,function(e,t,r){"use strict";r.r(t);var n=r(22),o=r.n(n),a=r(8),i=r(18),c=r(6),u=r(19),l=r(0),s=r.n(l),f=r(2),p=function(e){var t=e.shapeColor,r=e.setShapeColor;return s.a.createElement("input",{type:"color",className:"form-control",id:"sx",value:Object(f.b)(t),onChange:function(e){var t=e.target.value,n=Object(f.a)(t);r(n)}})},h=r(7),m=["RECTANGLE","TRIANGLE","STAR","CIRCLE","CUBE"],d=function(e){var t=e.selected,r=e.onSelect;return s.a.createElement("fieldset",{name:"shape",className:"form-group",onChange:function(e){var t=e.target.value;r(t)},style:{textAlign:"center"}},m.map((function(e){var r="radio-".concat(e.toLowerCase());return s.a.createElement("div",{key:r,className:"form-check form-check-inline"},s.a.createElement("input",{id:r,className:"form-check-input",type:"radio",value:e,checked:e===t,onChange:function(){}}),s.a.createElement("label",{className:"form-check-label",htmlFor:r},Object(h.a)(e)))})))};function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=function(e){var t=e.onConfigChange,r=y(Object(l.useState)("RECTANGLE"),2),n=r[0],o=r[1],a=y(Object(l.useState)({red:0,green:1,blue:0}),2),i=a[0],c=a[1];return Object(l.useEffect)((function(){t({type:n,color:i})}),[n,i]),s.a.createElement(s.a.Fragment,null,s.a.createElement(d,{selected:n,onSelect:o}),s.a.createElement(p,{shapeColor:i,setShapeColor:c}))},g=r(15),O=function(e){var t=e.fieldOfView,r=e.onChange;return s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("label",{htmlFor:"form-fov"},"Degrees"),s.a.createElement("input",{type:"number",className:"form-control",id:"form-fov",value:t,step:"2",onChange:function(e){var t=Number(e.target.value);r(t)}})))};function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=R(e);if(t){var o=R(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return P(this,r)}}function P(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k={x:0,y:0,z:0},N={x:0,y:0,z:0},D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,e);var t,r,n,o=A(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).toggleLookAt=function(e){var r=e.target.checked;t.setState({lookAtEnabled:r});var n=t.props,o=n.onChange,a=n.cameraSettings;o(S(S({},a),{},r?{target:a.target||k}:{target:void 0,rotation:a.rotation||N}))},t.onVectorUpdate=function(e){return function(r){var n=t.props;(0,n.onChange)(S(S({},n.cameraSettings),{},w({},e,r)))}},t.onFOVUpdate=function(e){var r=t.props;(0,r.onChange)(S(S({},r.cameraSettings),{},{fovDegrees:e}))},t.handleKeyDown=function(e){if(void 0===t.props.cameraSettings.target){var r=e.shiftKey,n=0,o=0,a=0;switch(e.key){case"W":case"w":a=-1;break;case"A":case"a":n=-1;break;case"S":case"s":a=1;break;case"D":case"d":n=1;break;case" ":o=1;break;case"Control":o=-1}0===n&&0===o&&0===a||(e.preventDefault(),e.stopPropagation(),t.handleMove(n,o,a,r))}},t.handleMove=function(e,r,n,o){var a=o?5:2,i=t.props,c=i.cameraSettings,u=i.onChange,l={x:c.translation.x+=e*a,y:c.translation.y+=r*a,z:c.translation.z+=n*a};u(S(S({},c),{},{translation:l}))},t.state={lookAtEnabled:Boolean(e.cameraSettings.target)},t}return t=a,(r=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"renderLookAtToggle",value:function(){return s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("div",{className:"form-check"},s.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"look-at-toggle",checked:this.state.lookAtEnabled,onChange:this.toggleLookAt}),s.a.createElement("label",{className:"form-check-label",htmlFor:"look-at-toggle"},'Enable "Look At" (disables key controls)'))))}},{key:"render",value:function(){var e=this.state.lookAtEnabled,t=this.props.cameraSettings,r=t.fovDegrees,n=t.translation,o=t.rotation,a=t.target;return s.a.createElement("form",null,this.renderLookAtToggle(),s.a.createElement(O,{fieldOfView:r,onChange:this.onFOVUpdate}),s.a.createElement(g.a,{disabled:!e,title:"Target",value:a||k,step:5,onChange:this.onVectorUpdate("target")}),s.a.createElement(g.a,{title:"Translation",value:n,step:5,onChange:this.onVectorUpdate("translation")}),s.a.createElement(g.a,{disabled:e,title:"Rotation",value:o||N,step:2,onChange:this.onVectorUpdate("rotation")}))}}])&&x(t.prototype,r),n&&x(t,n),a}(s.a.Component),_=r(5),T=r(21),I=r(13),z=r(4),F=r(3);function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var U=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gl=t.getContext("webgl");var o=Object(I.a)(this.gl,r,n);this.gl.useProgram(o),this.attributeCoords=this.gl.getAttribLocation(o,"a_coords"),this.gl.enableVertexAttribArray(this.attributeCoords),this.bufferCoords=this.gl.createBuffer(),this.attributeNormals=this.gl.getAttribLocation(o,"a_normals"),this.gl.enableVertexAttribArray(this.attributeNormals),this.normalBuffer=this.gl.createBuffer(),this.uniformColor=this.gl.getUniformLocation(o,"u_color"),this.uniformWorldViewProjection=this.gl.getUniformLocation(o,"u_worldViewProjection"),this.uniformWorldInverseTranspose=this.gl.getUniformLocation(o,"u_worldInverseTranspose"),this.uniformReverseLightDirectionLocation=this.gl.getUniformLocation(o,"u_reverseLightDirection");var a=this.gl.getUniformLocation(o,"u_resolution");this.gl.uniform2f(a,this.gl.canvas.width,this.gl.canvas.height),this.clearCanvas()}var t,r,n;return t=e,n=[{key:"getInstance",value:function(){if(!e.instance)throw new Error("Scene not initialized with call to `init`");return e.instance}},{key:"init",value:function(t,r,n){return e.instance=new e(t,r,n),e.instance}}],(r=[{key:"clearCanvas",value:function(){this.gl.clearColor(0,0,0,0),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},{key:"render",value:function(e,t,r){var n=this;if(this.renderSetup(),0!==e.length){var o=this.gl.canvas,a=o.clientWidth/o.clientHeight,i=t.getViewProjectionMatrix(a),c=this.computeWorldViewProjectionMatrix(i);this.gl.uniform3fv(this.uniformReverseLightDirectionLocation,r.getNormalizedDirection()),e.forEach((function(e){n.gl.uniform4f(n.uniformColor,e.color.red,e.color.green,e.color.blue,1);var t=n.computeModelViewMatrix(e,c);n.gl.uniformMatrix4fv(n.uniformWorldViewProjection,!1,t),Object(T.a)({context:n.gl,shape:e,bufferCoords:n.bufferCoords,normalBuffer:n.normalBuffer})}))}else this.clearCanvas()}},{key:"renderSetup",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.bufferCoords),this.gl.vertexAttribPointer(this.attributeCoords,3,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.normalBuffer),this.gl.vertexAttribPointer(this.attributeNormals,3,this.gl.FLOAT,!1,0,0),this.gl.enable(this.gl.DEPTH_TEST)}},{key:"computeWorldViewProjectionMatrix",value:function(e){var t=F.a.identity(),r=F.a.multiply(e,t),n=F.a.inverse(t),o=F.a.transpose(n);return this.gl.uniformMatrix4fv(this.uniformWorldViewProjection,!1,r),this.gl.uniformMatrix4fv(this.uniformWorldInverseTranspose,!1,o),r}},{key:"computeModelViewMatrix",value:function(e,t){var r=F.a.translate(t,e.translation.x,e.translation.y,e.translation.z);return r=F.a.xRotate(r,Object(z.a)(e.rotation.x)),r=F.a.yRotate(r,Object(z.a)(e.rotation.y)),r=F.a.zRotate(r,Object(z.a)(e.rotation.z)),r=F.a.scale(r,e.scale.x,e.scale.y,e.scale.z)}}])&&M(t.prototype,r),n&&M(t,n),e}();function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var W=[0,1,0],Y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rotation={x:0,y:0,z:0},this.translation={x:0,y:0,z:0},this.fovRadians=Object(z.a)(60)}var t,r,n;return t=e,n=[{key:"fromSettings",value:function(t){var r=new e;return r.setFOV(t.fovDegrees),r.translation=t.translation,t.rotation&&(r.rotation=t.rotation),t.target&&r.setTarget(t.target),r}}],(r=[{key:"setTarget",value:function(e){this.target=e}},{key:"removeTarget",value:function(){this.target=void 0}},{key:"getFOVDegrees",value:function(){return Object(z.b)(this.fovRadians)}},{key:"setFOV",value:function(e){this.fovRadians=Object(z.a)(e)}},{key:"getViewProjectionMatrix",value:function(e){var t=this.getViewMatrix(),r=F.a.perspective(this.fovRadians,e,1,2e3);return F.a.multiply(r,t)}},{key:"getViewMatrix",value:function(){var e=F.a.identity();if(void 0!==this.target){var t=[-(e=this.applyTranslation(e))[12],-e[13],-e[14]];e=F.a.lookAt(t,this.getTargetAsMatrix(),W),e=F.a.inverse(e)}else e=this.applyRotation(e),e=this.applyTranslation(e);return e}},{key:"getTargetAsMatrix",value:function(){return[this.target.x,this.target.y,this.target.z]}},{key:"applyRotation",value:function(e){return e=F.a.zRotate(e,Object(z.a)(this.rotation.z)),e=F.a.xRotate(e,Object(z.a)(this.rotation.x)),e=F.a.yRotate(e,Object(z.a)(this.rotation.y))}},{key:"applyTranslation",value:function(e){return F.a.translate(e,this.translation.x,this.translation.y,this.translation.z)}}])&&V(t.prototype,r),n&&V(t,n),e}();function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.direction={x:0,y:0,z:0}}var t,r,n;return t=e,n=[{key:"fromSettings",value:function(t){var r=new e;return r.direction=t.direction,r}}],(r=[{key:"getNormalizedDirection",value:function(){var e=this.direction,t=e.x,r=e.y,n=e.z;return F.a.normalize([t,r,n])}}])&&G(t.prototype,r),n&&G(t,n),e}();function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var K=function(e){var t=e.shapes,r=e.cameraSettings,n=e.lightSettings,o=e.onClick,a=function(e){var t=Object(l.useRef)(null),r=L(Object(l.useState)(null),2),n=r[0],o=r[1],a=L(Object(l.useState)(!1),2),i=a[0],c=a[1];return Object(l.useEffect)((function(){var r=t.current;i?null!==r&&o(U.init(t.current,Object(_.a)(e.vertexId),Object(_.a)(e.fragmentId))):c(!0)}),[e.fragmentId,e.vertexId,t.current]),{scene:n,canvasRef:t}}({fragmentId:"fragment-shader-3d",vertexId:"vertex-shader-3d"}),i=a.scene,c=a.canvasRef,u=$(Object(l.useState)(Y.fromSettings(r)),2),f=u[0],p=u[1],h=$(Object(l.useState)(H.fromSettings(n)),2),m=h[0],d=h[1];Object(l.useEffect)((function(){p(Y.fromSettings(r))}),[p,r]),Object(l.useEffect)((function(){d(H.fromSettings(n))}),[d,n]),Object(l.useEffect)((function(){i&&i.render(t,f,m)}),[i,f,m,t]);return s.a.createElement("canvas",{id:"canvas",width:"570px",height:"300px",className:"mb-3",onMouseDown:function(e){var t=e.target.getBoundingClientRect(),r=Math.round(e.clientX-t.left-t.width/2),n=-Math.round(e.clientY-t.top-t.height/2);o({x:r,y:n,z:-150})},ref:c})},Z={x:0,y:0,z:0},J={width:1,height:1,depth:1},q=Object(f.a)("#FF0000"),Q=Object(f.a)("#00FF00"),ee=Object(f.a)("#0000FF"),te=[Object(c.a)("CUBE",{position:Z,dimensions:J,color:ee,translation:{x:0,y:0,z:0},scale:{x:15,y:15,z:15},rotation:{x:0,y:0,z:0}}),Object(c.a)("CUBE",{position:Z,dimensions:J,color:Q,translation:{x:20,y:0,z:0},scale:{x:15,y:15,z:15},rotation:{x:0,y:0,z:0}}),Object(c.a)("CUBE",{position:Z,dimensions:J,color:q,translation:{x:-20,y:0,z:0},scale:{x:15,y:15,z:15},rotation:{x:0,y:0,z:0}})],re={fovDegrees:90,target:void 0,translation:{x:-45,y:-35,z:21},rotation:{x:40,y:235,z:0}},ne={direction:{x:.4,y:.3,z:-.5}},oe=r(25);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=me(e);if(t){var o=me(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return he(this,r)}}function he(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(a,e);var t,r,n,o=pe(a);function a(){var e;return le(this,a),(e=o.apply(this,arguments)).onVectorUpdate=function(t){return function(r){"rotation"===t&&(r={x:r.x%360,y:r.y%360,z:r.z%360});var n=e.props;(0,n.onUpdate)(ce(ce({},n.activeShape),{},ue({},t,r)))}},e.onColorUpdate=function(t){var r=e.props;(0,r.onUpdate)(ce(ce({},r.activeShape),{},{color:t}))},e}return t=a,(r=[{key:"renderDeleteButton",value:function(){var e=this;return s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"form-group col-md-12"},s.a.createElement("button",{id:"addShape",className:"btn btn-secondary btn-block",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.props.onDelete()}},"Delete Shape")))}},{key:"render",value:function(){var e=this.props.activeShape,t=e.translation,r=e.scale,n=e.rotation,o=e.color;return s.a.createElement("form",null,s.a.createElement(g.a,{title:"Translation",value:t,step:5,onChange:this.onVectorUpdate("translation")}),s.a.createElement(g.a,{title:"Scale",value:r,step:.5,onChange:this.onVectorUpdate("scale")}),s.a.createElement(g.a,{title:"Rotation",value:n,step:2,onChange:this.onVectorUpdate("rotation")}),s.a.createElement(oe.a,{color:o,onChange:this.onColorUpdate}),this.renderDeleteButton())}}])&&se(t.prototype,r),n&&se(t,n),a}(l.Component);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=xe(e);if(t){var o=xe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return we(this,r)}}function we(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(a,e);var t,r,n,o=Se(a);function a(){var e;return Oe(this,a),(e=o.apply(this,arguments)).onChange=function(t){return function(r){var n=Number(r.target.value),o=ve(ve({},e.props.lightSettings.direction),{},ge({},t,n));e.props.onChange(ve(ve({},e.props.lightSettings),{},{direction:o}))}},e}return t=a,(r=[{key:"render",value:function(){var e=this.props.lightSettings.direction,t=e.x,r=e.y,n=e.z;return s.a.createElement("form",null,s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"dlrx",className:"col-auto col-form-label"},"X"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"range",className:"form-control form-control-range",id:"dlrx",value:t,min:"-1",max:"1",step:"0.1",onChange:this.onChange("x")}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"dlry",className:"col-auto col-form-label"},"Y"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"range",className:"form-control form-control-range",id:"dlry",value:r,min:"-1",max:"1",step:"0.1",onChange:this.onChange("y")}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"dlrz",className:"col-auto col-form-label"},"Z"),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"range",className:"form-control form-control-range",id:"dlrz",value:n,min:"-1",max:"1",step:"0.1",onChange:this.onChange("z")}))))}}])&&Ee(t.prototype,r),n&&Ee(t,n),a}(l.Component),Ae=function(e){var t=e.shapes,r=e.activeShapeIndex,n=e.onSelect;return s.a.createElement("div",{className:"list-group list-group-flush"},t.map((function(e,t){var o=["list-group-item","list-group-item-action"];return t===r&&o.push("active"),s.a.createElement("button",{key:t,className:o.join(" "),onClick:function(){return n(t)}},s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("p",{className:"mb-0"},Object(h.a)(e.type)),s.a.createElement("small",null,"X: ",e.translation.x," Y: ",e.translation.y," Z:"," ",e.translation.z)))})))};function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){Ne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function De(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _e(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Me(e);if(t){var o=Me(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Fe(this,r)}}function Fe(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(l,e);var t,r,n,o=ze(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).onConfigChange=function(e){return t.setState({addShapeConfig:e})},t.onShapeIndexSelect=function(e){return t.setState({selectedShapeIndex:e})},t.getActiveShape=function(){return t.state.shapes[t.state.selectedShapeIndex]},t.onUpdateShape=function(e){var r=t.state,n=r.shapes,o=r.selectedShapeIndex;if(!Object(u.a)(n[o],e)){var a=De(n);a[o]=e,t.setState({shapes:a})}},t.onDeleteShape=function(){var e=De(t.state.shapes);e.splice(t.state.selectedShapeIndex,1);var r=t.state.selectedShapeIndex;r>=e.length&&(r=Math.max(e.length-1,0)),t.setState({shapes:e,selectedShapeIndex:r})},t.onAddShape=function(e){var r=Object(c.a)(t.state.addShapeConfig.type,ke(ke({},t.state.addShapeConfig),{},{translation:e,rotation:{x:0,y:0,z:180},scale:{x:20,y:20,z:20}})),n=[].concat(De(t.state.shapes),[r]);t.setState({shapes:n})},t.state={shapes:te,selectedShapeIndex:0,addShapeConfig:{},cameraSettings:re,lightSettings:ne},t}return t=l,(r=[{key:"renderAddCard",value:function(){return s.a.createElement(a.a,{title:"Add Shape",subtitle:"Select a shape type before clicking on the canvas"},s.a.createElement(v,{onConfigChange:this.onConfigChange}))}},{key:"renderListCard",value:function(){return s.a.createElement(a.a,{title:"Shape List",subtitle:"Pick a shape to edit"},s.a.createElement("div",{style:{maxHeight:540,overflow:"auto"}},s.a.createElement(Ae,{shapes:this.state.shapes,activeShapeIndex:this.state.selectedShapeIndex,onSelect:this.onShapeIndexSelect})))}},{key:"renderEditCard",value:function(){var e=this.getActiveShape();return s.a.createElement(a.a,{title:"Shape Edits",subtitle:"Perform edits on the selected shape"},e?s.a.createElement(de,{activeShape:e,onUpdate:this.onUpdateShape,onDelete:this.onDeleteShape}):s.a.createElement("p",null,"Please add a shape to continue"))}},{key:"renderLightCard",value:function(){var e=this;return s.a.createElement(a.a,{title:"Light Settings",subtitle:"Control the source of a point light"},s.a.createElement(Ce,{lightSettings:this.state.lightSettings,onChange:function(t){return e.setState({lightSettings:t})}}))}},{key:"renderFOVCard",value:function(){var e=this;return s.a.createElement(a.a,{title:"Camera Settings",subtitle:"Performs translations of the world around the camera"},s.a.createElement(D,{cameraSettings:this.state.cameraSettings,onChange:function(t){return e.setState({cameraSettings:t})}}))}},{key:"render",value:function(){var e=this.state,t=e.shapes,r=e.cameraSettings,n=e.lightSettings;return s.a.createElement("div",{className:"container mb-4"},s.a.createElement(i.a,{title:"Lighting and Shading"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"mb-4 w-100"},s.a.createElement(K,{onClick:this.onAddShape,shapes:t,cameraSettings:r,lightSettings:n})),s.a.createElement("div",{className:"mb-4 w-100"},this.renderAddCard()),s.a.createElement("div",{className:"mb-4 w-100"},this.renderListCard())),s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"mb-4 w-100"},this.renderLightCard()),s.a.createElement("div",{className:"mb-4 w-100"},this.renderFOVCard()),s.a.createElement("div",{className:"w-100"},this.renderEditCard()))))}}])&&Te(t.prototype,r),n&&Te(t,n),l}(l.Component);document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("assignment-7-container");o.a.render(s.a.createElement(Ue,null),e)}))}]);
//# sourceMappingURL=../maps/static/js/assignment7.js.map