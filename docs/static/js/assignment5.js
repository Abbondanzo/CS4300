!function(e){function t(t){for(var r,i,c=t[0],u=t[1],s=t[2],f=0,p=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(l&&l(t);p.length;)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={5:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=this.webpackJsonp=this.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var l=u;o.push([43,0]),n()}([
/*!*******************************************************!*\
  !*** ./src/common/render/2d/twoDimensionConverter.ts ***!
  \*******************************************************/
/*! exports provided: twoDimensionConverter */
/*! exports used: twoDimensionConverter */,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]),n%2==1&&t.push(0);return t}},
/*!***********************************!*\
  !*** ./src/common/util/colors.ts ***!
  \***********************************/
/*! exports provided: hexToRgb, rgbToHex */
/*! exports used: hexToRgb, rgbToHex */function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),n={red:parseInt(t[1],16),green:parseInt(t[2],16),blue:parseInt(t[3],16)};return n.red/=255,n.green/=255,n.blue/=255,n},a=function(e){var t=(255*e).toString(16);return 1===t.length?"0".concat(t):t},o=function(e){console.assert(e.red<=1,"Red is greater than 1");var t=a(e.red);console.assert(e.green<=1,"Green is greater than 1");var n=a(e.green);console.assert(e.blue<=1,"Blue is greater than 1");var r=a(e.blue);return"#".concat(t).concat(n).concat(r)}},
/*!*******************************!*\
  !*** ./src/common/util/m4.ts ***!
  \*******************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r={perspective:function(e,t,n,r){var a=Math.tan(.5*Math.PI-.5*e),o=1/(n-r);return[a/t,0,0,0,0,a,0,0,0,0,(n+r)*o,-1,0,0,n*r*o*2,0]},projection:function(e,t,n){return[2/e,0,0,0,0,-2/t,0,0,0,0,2/n,0,-1,1,0,1]},multiply:function(e,t){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],c=e[5],u=e[6],s=e[7],l=e[8],f=e[9],p=e[10],h=e[11],d=e[12],m=e[13],b=e[14],y=e[15],v=t[0],g=t[1],O=t[2],E=t[3],j=t[4],S=t[5],w=t[6],A=t[7],C=t[8],R=t[9],x=t[10],P=t[11],I=t[12],N=t[13],D=t[14],F=t[15];return[v*n+g*i+O*l+E*d,v*r+g*c+O*f+E*m,v*a+g*u+O*p+E*b,v*o+g*s+O*h+E*y,j*n+S*i+w*l+A*d,j*r+S*c+w*f+A*m,j*a+S*u+w*p+A*b,j*o+S*s+w*h+A*y,C*n+R*i+x*l+P*d,C*r+R*c+x*f+P*m,C*a+R*u+x*p+P*b,C*o+R*s+x*h+P*y,I*n+N*i+D*l+F*d,I*r+N*c+D*f+F*m,I*a+N*u+D*p+F*b,I*o+N*s+D*h+F*y]},translation:function(e,t,n){return[1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1]},xRotation:function(e){var t=Math.cos(e),n=Math.sin(e);return[1,0,0,0,0,t,n,0,0,-n,t,0,0,0,0,1]},yRotation:function(e){var t=Math.cos(e),n=Math.sin(e);return[t,0,-n,0,0,1,0,0,n,0,t,0,0,0,0,1]},zRotation:function(e){var t=Math.cos(e),n=Math.sin(e);return[t,n,0,0,-n,t,0,0,0,0,1,0,0,0,0,1]},scaling:function(e,t,n){return[e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1]},translate:function(e,t,n,a){return r.multiply(e,r.translation(t,n,a))},xRotate:function(e,t){return r.multiply(e,r.xRotation(t))},yRotate:function(e,t){return r.multiply(e,r.yRotation(t))},zRotate:function(e,t){return r.multiply(e,r.zRotation(t))},scale:function(e,t,n,a){return r.multiply(e,r.scaling(t,n,a))},inverse:function(e){var t=e[0],n=e[1],r=e[2],a=e[3],o=e[4],i=e[5],c=e[6],u=e[7],s=e[8],l=e[9],f=e[10],p=e[11],h=e[12],d=e[13],m=e[14],b=e[15],y=f*b,v=m*p,g=c*b,O=m*u,E=c*p,j=f*u,S=r*b,w=m*a,A=r*p,C=f*a,R=r*u,x=c*a,P=s*d,I=h*l,N=o*d,D=h*i,F=o*l,_=s*i,T=t*d,M=h*n,k=t*l,z=s*n,U=t*i,L=o*n,B=y*i+O*l+E*d-(v*i+g*l+j*d),V=v*n+S*l+C*d-(y*n+w*l+A*d),G=g*n+w*i+R*d-(O*n+S*i+x*d),Y=j*n+A*i+x*l-(E*n+C*i+R*l),H=1/(t*B+o*V+s*G+h*Y);return[H*B,H*V,H*G,H*Y,H*(v*o+g*s+j*h-(y*o+O*s+E*h)),H*(y*t+w*s+A*h-(v*t+S*s+C*h)),H*(O*t+S*o+x*h-(g*t+w*o+R*h)),H*(E*t+C*o+R*s-(j*t+A*o+x*s)),H*(P*u+D*p+F*b-(I*u+N*p+_*b)),H*(I*a+T*p+z*b-(P*a+M*p+k*b)),H*(N*a+M*u+U*b-(D*a+T*u+L*b)),H*(_*a+k*u+L*p-(F*a+z*u+U*p)),H*(N*f+_*m+I*c-(F*m+P*c+D*f)),H*(k*m+P*r+M*f-(T*f+z*m+I*r)),H*(T*c+L*m+D*r-(U*m+N*r+M*c)),H*(U*f+F*r+z*c-(k*c+L*f+_*r))]},vectorMultiply:function(e,t){for(var n=[],r=0;r<4;++r){n[r]=0;for(var a=0;a<4;++a)n[r]+=e[a]*t[4*a+r]}return n},lookAt:function(e,t,n){var a=r.normalize(r.subtractVectors(e,t)),o=r.normalize(r.cross(n,a)),i=r.normalize(r.cross(a,o));return[o[0],o[1],o[2],0,i[0],i[1],i[2],0,a[0],a[1],a[2],0,e[0],e[1],e[2],1]},normalize:function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return t>1e-5?[e[0]/t,e[1]/t,e[2]/t]:[0,0,0]},cross:function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},subtractVectors:function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]},identity:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},transpose:function(e){var t=e[0],n=e[1],r=e[2],a=e[3],o=e[4],i=e[5],c=e[6],u=e[7],s=e[8],l=e[9],f=e[10],p=e[11];return[t,o,s,e[12],n,i,l,e[13],r,c,f,e[14],a,u,p,e[15]]}};t.a=r},
/*!************************************!*\
  !*** ./src/common/util/degrees.ts ***!
  \************************************/
/*! exports provided: degreesToRadians, radiansToDegrees */
/*! exports used: degreesToRadians, radiansToDegrees */function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(/*! ./numbers */14),a=function(e){return e%360*Math.PI/180},o=function(e){return Object(r.a)(180*e/Math.PI)%360}},
/*!***************************************************!*\
  !*** ./src/common/setup/getScriptContentsById.ts ***!
  \***************************************************/
/*! exports provided: getScriptContentsById */
/*! exports used: getScriptContentsById */function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return document.getElementById(e).text}},
/*!***************************************************!*\
  !*** ./src/common/model/canvas3DShapeBuilders.ts ***!
  \***************************************************/
/*! exports provided: buildShape */
/*! exports used: buildShape */function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i}));var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a({type:e,position:{x:0,y:0,z:0},dimensions:{width:1,height:1,depth:1},color:{red:0,green:0,blue:0},translation:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1}},t)}},
/*!************************************!*\
  !*** ./src/common/util/strings.ts ***!
  \************************************/
/*! exports provided: toFirstUpperCase */
/*! exports used: toFirstUpperCase */function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}},
/*!****************************************!*\
  !*** ./src/common/components/Card.tsx ***!
  \****************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! react */0),a=n.n(r);t.a=function(e){var t=e.title,n=e.subtitle,r=e.children;return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-body"},a.a.createElement("h5",{className:"card-title"},t),n&&a.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},n),r))}},
/*!****************************************!*\
  !*** ./src/common/render/2d/circle.ts ***!
  \****************************************/
/*! exports provided: renderCircle */
/*! exports used: renderCircle */function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(/*! ./twoDimensionConverter */1),a=function(e,t){for(var n=t.dimensions.height/2,a=t.dimensions.width/t.dimensions.height,i=2*Math.PI/o,c=t.position.x,u=t.position.y,s=[c,u],l=o;l>=0;l--){var f=l*i,p=c+n*Math.cos(f)*a,h=u-n*Math.sin(f);s.push(p,h)}"z"in t.position&&(s=Object(r.a)(s)),e.bufferData(e.ARRAY_BUFFER,new Float32Array(s),e.STATIC_DRAW),e.drawArrays(e.TRIANGLE_FAN,0,o+2)},o=24},
/*!*******************************************!*\
  !*** ./src/common/render/2d/rectangle.ts ***!
  \*******************************************/
/*! exports provided: renderRectangle */
/*! exports used: renderRectangle */function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(/*! ./twoDimensionConverter */1),a=function(e,t){var n=t.position.x-t.dimensions.width/2,a=t.position.y-t.dimensions.height/2,o=t.position.x+t.dimensions.width/2,i=t.position.y+t.dimensions.height/2,c=[n,a,o,a,n,i,n,i,o,a,o,i];"z"in t.position&&(c=Object(r.a)(c)),e.bufferData(e.ARRAY_BUFFER,new Float32Array(c),e.STATIC_DRAW),e.drawArrays(e.TRIANGLES,0,6)}},
/*!**************************************!*\
  !*** ./src/common/render/2d/star.ts ***!
  \**************************************/
/*! exports provided: renderStar */
/*! exports used: renderStar */function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(/*! ./twoDimensionConverter */1);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=function(e,t){for(var n=t.dimensions.height/2,o=t.dimensions.width/t.dimensions.height,i=2*Math.PI/5,c=t.position.x,u=t.position.y,s={},l=0;l<5;l++){var f=Math.PI/2-l*i,p=c+n*Math.cos(f)*o,h=u-n*Math.sin(f);s["".concat(l+1)]=[p,h]}s[6]=[c,u+n*(Math.tan(.2*Math.PI)-Math.tan(.1*Math.PI))];var d=[].concat(a(s[1]),a(s[3]),a(s[6])),m=[].concat(a(s[1]),a(s[6]),a(s[4])),b=[].concat(a(s[5]),a(s[2]),a(s[6])),y=[].concat(a(d),a(m),a(b));"z"in t.position&&(y=Object(r.a)(y)),e.bufferData(e.ARRAY_BUFFER,new Float32Array(y),e.STATIC_DRAW),e.drawArrays(e.TRIANGLES,0,9)}},
/*!******************************************!*\
  !*** ./src/common/render/2d/triangle.ts ***!
  \******************************************/
/*! exports provided: renderTriangle */
/*! exports used: renderTriangle */function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(/*! ./twoDimensionConverter */1),a=function(e,t){var n=t.position.x-t.dimensions.width/2,a=t.position.y+t.dimensions.height/2,o=t.position.x+t.dimensions.width/2,i=t.position.y+t.dimensions.height/2,c=[n,a,t.position.x,t.position.y-t.dimensions.height/2,o,i];"z"in t.position&&(c=Object(r.a)(c)),e.bufferData(e.ARRAY_BUFFER,new Float32Array(c),e.STATIC_DRAW),e.drawArrays(e.TRIANGLES,0,3)}},
/*!******************************************************!*\
  !*** ./src/common/setup/createProgramFromScripts.ts ***!
  \******************************************************/
/*! exports provided: createProgramFromScripts */
/*! exports used: createProgramFromScripts */function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n){var r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,t),e.compileShader(r);var a=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(a,n),e.compileShader(a);var o=e.createProgram();return e.attachShader(o,r),e.attachShader(o,a),e.linkProgram(o),o}},
/*!************************************!*\
  !*** ./src/common/util/numbers.ts ***!
  \************************************/
/*! exports provided: truncate */
/*! exports used: truncate */function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return Math.round(100*e)/100}},,,
/*!******************************************!*\
  !*** ./src/common/components/NavBar.tsx ***!
  \******************************************/
/*! exports provided: default */
/*! exports used: default */,function(e,t,n){"use strict";var r=n(/*! react */0),a=n.n(r);t.a=function(e){var t=e.title;return document.title=t,a.a.createElement(a.a.Fragment,null,a.a.createElement("nav",{"aria-label":"breadcrumb"},a.a.createElement("ol",{className:"breadcrumb"},a.a.createElement("li",{className:"breadcrumb-item"},a.a.createElement("a",{href:"/"},"Home")),a.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},t))),a.a.createElement("h1",null,t))}},
/*!************************************!*\
  !*** ./src/common/util/objects.ts ***!
  \************************************/
/*! exports provided: objectEquality */
/*! exports used: objectEquality */function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(/*! fast-deep-equal */23),a=n.n(r),o=function(e,t){return a()(e,t)}},
/*!***************************************************!*\
  !*** ./src/common/render/3d/index.ts + 1 modules ***!
  \***************************************************/
/*! exports provided: renderShape */
/*! exports used: renderShape */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/render/2d/circle.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/render/2d/rectangle.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/render/2d/star.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/render/2d/triangle.ts */,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=n(10),o=n(11),i=n(12),c=function(e){var t=e.shape,n=e.context,c=e.bufferCoords,u=e.normalBuffer;switch(t.type){case"CUBE":!function(e,t,n,r){var a=t.position.x-t.dimensions.width/2,o=t.position.y-t.dimensions.height/2,i=t.position.z+t.dimensions.depth/2,c=t.position.x+t.dimensions.width/2,u=t.position.y+t.dimensions.height/2,s=t.position.z-t.dimensions.depth/2,l=[a,u,i],f=[c,u,i],p=[c,o,i],h=[a,o,i],d=[a,u,s],m=[c,u,s],b=[c,o,s],y=[a,o,s],v=[].concat(l,f,p,l,p,h),g=[].concat(f,m,b,f,b,p),O=[].concat(m,d,y,m,y,b),E=[].concat(d,l,h,d,h,y),j=[].concat(l,d,m,l,m,f),S=[].concat(h,p,b,h,b,y),w=[].concat(v,g,O,E,j,S);if(e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(w),e.STATIC_DRAW),r){var A=[].concat([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1],[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0],[0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1],[-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0],[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],[0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0]);e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array(A),e.STATIC_DRAW)}e.drawArrays(e.TRIANGLES,0,36)}(n,t,c,u);break;case"RECTANGLE":Object(a.a)(n,t);break;case"TRIANGLE":Object(i.a)(n,t);break;case"CIRCLE":Object(r.a)(n,t);break;case"STAR":Object(o.a)(n,t);break;default:console.error("Rendering unhandled shape type",t)}}},,,,,,,,,,,,,,,,,,,,,
/*!***********************************************!*\
  !*** ./src/assignment5/index.ts + 13 modules ***!
  \***********************************************/
/*! no exports provided */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/components/Card.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/components/NavBar.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/model/canvas3DShapeBuilders.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/render/3d/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/setup/createProgramFromScripts.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/setup/getScriptContentsById.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/util/colors.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/util/degrees.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/util/m4.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/util/numbers.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/util/objects.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/common/util/strings.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-dom/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react/index.js (<- Module is not an ECMAScript module) */,function(e,t,n){"use strict";n.r(t);var r=n(22),a=n.n(r),o=n(8),i=n(18),c=n(6),u=n(19),s=n(0),l=n.n(s),f=n(2),p=function(e){var t=e.shapeColor,n=e.setShapeColor;return l.a.createElement("input",{type:"color",className:"form-control",id:"sx",value:Object(f.b)(t),onChange:function(e){var t=e.target.value,r=Object(f.a)(t);n(r)}})},h=n(7),d=["RECTANGLE","TRIANGLE","STAR","CIRCLE","CUBE"],m=function(e){var t=e.selected,n=e.onSelect;return l.a.createElement("fieldset",{name:"shape",className:"form-group",onChange:function(e){var t=e.target.value;n(t)},style:{textAlign:"center"}},d.map((function(e){var n="radio-".concat(e.toLowerCase());return l.a.createElement("div",{key:n,className:"form-check form-check-inline"},l.a.createElement("input",{id:n,className:"form-check-input",type:"radio",value:e,checked:e===t,onChange:function(){}}),l.a.createElement("label",{className:"form-check-label",htmlFor:n},Object(h.a)(e)))})))};function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.onConfigChange,n=b(Object(s.useState)("RECTANGLE"),2),r=n[0],a=n[1],o=b(Object(s.useState)({red:0,green:1,blue:0}),2),i=o[0],c=o[1];return Object(s.useEffect)((function(){t({type:r,color:i})}),[r,i]),l.a.createElement(l.a.Fragment,null,l.a.createElement(m,{selected:r,onSelect:a}),l.a.createElement(p,{shapeColor:i,setShapeColor:c}))},g=n(5),O=n(21),E=n(13),j=n(4),S=n(3);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gl=t.getContext("webgl");var a=Object(E.a)(this.gl,n,r);this.gl.useProgram(a),this.attributeCoords=this.gl.getAttribLocation(a,"a_coords"),this.uniformMatrix=this.gl.getUniformLocation(a,"u_matrix"),this.uniformColor=this.gl.getUniformLocation(a,"u_color"),this.gl.enableVertexAttribArray(this.attributeCoords),this.bufferCoords=this.gl.createBuffer();var o=this.gl.getUniformLocation(a,"u_resolution");this.gl.uniform2f(o,this.gl.canvas.width,this.gl.canvas.height),this.clearCanvas()}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){if(!e.instance)throw new Error("Scene not initialized with call to `init`");return e.instance}},{key:"init",value:function(t,n,r){return e.instance=new e(t,n,r),e.instance}}],(n=[{key:"clearCanvas",value:function(){this.gl.clearColor(0,0,0,0),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},{key:"render",value:function(e,t){var n=this;if(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.bufferCoords),this.gl.vertexAttribPointer(this.attributeCoords,3,this.gl.FLOAT,!1,0,0),this.gl.enable(this.gl.CULL_FACE),this.gl.enable(this.gl.DEPTH_TEST),0!==e.length){var r=this.gl.canvas,a=r.clientWidth/r.clientHeight,o=Object(j.a)(t);e.forEach((function(e){n.gl.uniform4f(n.uniformColor,e.color.red,e.color.green,e.color.blue,1);var t=n.computeModelViewMatrix(e,o,a,1,2e3);n.gl.uniformMatrix4fv(n.uniformMatrix,!1,t),Object(O.a)({context:n.gl,shape:e,bufferCoords:n.bufferCoords,normalBuffer:null})}))}else this.clearCanvas()}},{key:"computeModelViewMatrix",value:function(e,t,n,r,a){var o=S.a.perspective(t,n,r,a);return o=S.a.translate(o,e.translation.x,e.translation.y,e.translation.z),o=S.a.xRotate(o,Object(j.a)(e.rotation.x)),o=S.a.yRotate(o,Object(j.a)(e.rotation.y)),o=S.a.zRotate(o,Object(j.a)(e.rotation.z)),o=S.a.scale(o,e.scale.x,e.scale.y,e.scale.z)}}])&&w(t.prototype,n),r&&w(t,r),e}();function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){var t=e.shapes,n=e.fieldOfViewDegrees,r=e.onClick,a=function(e){var t=Object(s.useRef)(null),n=C(Object(s.useState)(null),2),r=n[0],a=n[1],o=C(Object(s.useState)(!1),2),i=o[0],c=o[1];return Object(s.useEffect)((function(){var n=t.current;i?null!==n&&a(A.init(t.current,Object(g.a)(e.vertexId),Object(g.a)(e.fragmentId))):c(!0)}),[e.fragmentId,e.vertexId,t.current]),{scene:r,canvasRef:t}}({fragmentId:"fragment-shader-3d",vertexId:"vertex-shader-3d"}),o=a.scene,i=a.canvasRef;Object(s.useEffect)((function(){o&&o.render(t,n)}),[o,n,t]);return l.a.createElement("canvas",{id:"canvas",width:"500px",height:"300px",className:"mb-3",onMouseDown:function(e){var t=e.target.getBoundingClientRect(),n=Math.round(e.clientX-t.left-t.width/2),a=-Math.round(e.clientY-t.top-t.height/2);r({x:n,y:a,z:-150})},ref:i})},P={x:0,y:0,z:0},I={width:1,height:1,depth:1},N=Object(f.a)("#FF0000"),D=Object(f.a)("#00FF00"),F=Object(f.a)("#0000FF"),_=Object(c.a)("RECTANGLE",{position:P,dimensions:I,color:F,translation:{x:-15,y:0,z:-20},rotation:{x:0,y:0,z:0},scale:{x:10,y:10,z:10}}),T=Object(c.a)("TRIANGLE",{position:P,dimensions:I,color:N,translation:{x:15,y:0,z:-20},scale:{x:10,y:10,z:10},rotation:{x:0,y:0,z:180}}),M=Object(c.a)("CUBE",{position:P,dimensions:I,color:D,translation:{x:0,y:0,z:-25},scale:{x:10,y:10,z:10},rotation:{x:0,y:45,z:0}}),k=n(14),z=function(e){var t=e.color,n=e.onChange;return l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("label",{htmlFor:"form-color"},"Color"),l.a.createElement("input",{type:"color",className:"form-control",id:"form-color",value:Object(f.b)(t),onChange:function(e){var t=Object(f.a)(e.target.value);n(t)}})))};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){var t=e.title,n=e.value,r=e.step,a=e.onChange,o=function(e){return function(t){var r=Number(t.target.value);a(L(L({},n),{},B({},e,r)))}};return l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"col-md-12"},t),l.a.createElement("div",{className:"form-group col-md-4"},l.a.createElement("label",{htmlFor:"form-".concat(t,"-x")},"X:"),l.a.createElement("input",{type:"number",className:"form-control",id:"form-".concat(t,"-x"),step:r,value:n.x,onChange:o("x")})),l.a.createElement("div",{className:"form-group col-md-4"},l.a.createElement("label",{htmlFor:"form-".concat(t,"-y")},"Y:"),l.a.createElement("input",{type:"number",className:"form-control",id:"form-".concat(t,"-y"),step:r,value:n.y,onChange:o("y")})),l.a.createElement("div",{className:"form-group col-md-4"},l.a.createElement("label",{htmlFor:"form-".concat(t,"-z")},"Z:"),l.a.createElement("input",{type:"number",className:"form-control",id:"form-".concat(t,"-z"),step:r,value:n.z,onChange:o("z")})))};function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var a=K(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(o,e);var t,n,r,a=Z(o);function o(){var e;return $(this,o),(e=a.apply(this,arguments)).onFieldChange=function(t,n){return function(r){var a=e.props.activeShape[t],o=Object(k.a)(Number(r.target.value)),i=H(H({},a),{},W({},n,o)),c=H(H({},e.props.activeShape),{},W({},t,i));e.props.onUpdate(c)}},e.onVectorUpdate=function(t){return function(n){var r=e.props;(0,r.onUpdate)(H(H({},r.activeShape),{},W({},t,n)))}},e.onColorUpdate=function(t){var n=e.props;(0,n.onUpdate)(H(H({},n.activeShape),{},{color:t}))},e}return t=o,(n=[{key:"renderDeleteButton",value:function(){var e=this;return l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("button",{id:"addShape",className:"btn btn-secondary btn-block",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.props.onDelete()}},"Delete Shape")))}},{key:"render",value:function(){var e=this.props.activeShape,t=e.translation,n=e.scale,r=e.rotation,a=e.color;return l.a.createElement("form",null,l.a.createElement(V,{title:"Translation",value:t,step:5,onChange:this.onVectorUpdate("translation")}),l.a.createElement(V,{title:"Scale",value:n,step:.5,onChange:this.onVectorUpdate("scale")}),l.a.createElement(V,{title:"Rotation",value:r,step:2,onChange:this.onVectorUpdate("rotation")}),l.a.createElement(z,{color:a,onChange:this.onColorUpdate}),this.renderDeleteButton())}}])&&X(t.prototype,n),r&&X(t,r),o}(s.Component),ee=function(e){var t=e.fieldOfView,n=e.onChange;return l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-12"},l.a.createElement("label",{htmlFor:"form-fov"},"Degrees"),l.a.createElement("input",{type:"number",className:"form-control",id:"form-fov",value:t,step:"2",onChange:function(e){var t=Number(e.target.value);n(t)}})))},te=function(e){var t=e.shapes,n=e.activeShapeIndex,r=e.onSelect;return l.a.createElement("div",{className:"list-group list-group-flush"},t.map((function(e,t){var a=["list-group-item","list-group-item-action"];return t===n&&a.push("active"),l.a.createElement("button",{key:t,className:a.join(" "),onClick:function(){return r(t)}},l.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},l.a.createElement("p",{className:"mb-0"},Object(h.a)(e.type)),l.a.createElement("small",null,"X: ",e.translation.x," Y: ",e.translation.y," Z:"," ",e.translation.z)))})))};function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var a=pe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(s,e);var t,n,r,a=le(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).onConfigChange=function(e){return t.setState({addShapeConfig:e})},t.onShapeIndexSelect=function(e){return t.setState({selectedShapeIndex:e})},t.getActiveShape=function(){return t.state.shapes[t.state.selectedShapeIndex]},t.onUpdateShape=function(e){var n=t.state,r=n.shapes,a=n.selectedShapeIndex;if(!Object(u.a)(r[a],e)){var o=ie(r);o[a]=e,t.setState({shapes:o})}},t.onDeleteShape=function(){var e=ie(t.state.shapes);e.splice(t.state.selectedShapeIndex,1);var n=t.state.selectedShapeIndex;n>=e.length&&(n=Math.max(e.length-1,0)),t.setState({shapes:e,selectedShapeIndex:n})},t.onAddShape=function(e){var n=Object(c.a)(t.state.addShapeConfig.type,ae(ae({},t.state.addShapeConfig),{},{translation:e,rotation:{x:0,y:0,z:180},scale:{x:20,y:20,z:20}})),r=[].concat(ie(t.state.shapes),[n]);t.setState({shapes:r})},t.state={shapes:[_,T,M],selectedShapeIndex:0,addShapeConfig:{},fieldOfView:60},t}return t=s,(n=[{key:"renderAddCard",value:function(){return l.a.createElement(o.a,{title:"Add Shape",subtitle:"Select a shape type before clicking on the canvas"},l.a.createElement(v,{onConfigChange:this.onConfigChange}))}},{key:"renderListCard",value:function(){return l.a.createElement(o.a,{title:"Shape List",subtitle:"Pick a shape to edit"},l.a.createElement("div",{style:{maxHeight:540,overflow:"auto"}},l.a.createElement(te,{shapes:this.state.shapes,activeShapeIndex:this.state.selectedShapeIndex,onSelect:this.onShapeIndexSelect})))}},{key:"renderEditCard",value:function(){var e=this.getActiveShape();return l.a.createElement(o.a,{title:"Shape Edits",subtitle:"Perform edits on the selected shape"},e?l.a.createElement(Q,{activeShape:e,onUpdate:this.onUpdateShape,onDelete:this.onDeleteShape}):l.a.createElement("p",null,"Please add a shape to continue"))}},{key:"renderFOVCard",value:function(){var e=this;return l.a.createElement(o.a,{title:"Field of View"},l.a.createElement(ee,{fieldOfView:this.state.fieldOfView,onChange:function(t){return e.setState({fieldOfView:t})}}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container mb-4"},l.a.createElement(i.a,{title:"3D Perspective"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement(x,{onClick:this.onAddShape,shapes:this.state.shapes,fieldOfViewDegrees:this.state.fieldOfView}),this.renderListCard()),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"mb-4 w-100"},this.renderAddCard()),l.a.createElement("div",{className:"mb-4 w-100"},this.renderFOVCard()),l.a.createElement("div",{className:"w-100"},this.renderEditCard()))))}}])&&ue(t.prototype,n),r&&ue(t,r),s}(s.Component);document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("assignment-5-container");a.a.render(l.a.createElement(he,null),e)}))}]);
//# sourceMappingURL=../maps/static/js/assignment5.js.map