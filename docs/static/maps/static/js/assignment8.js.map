{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assignment8/buffers.ts","webpack:///./src/assignment8/render.ts","webpack:///./src/assignment8/shaders.ts","webpack:///./src/assignment8/textures.ts","webpack:///./src/assignment8/main.ts","webpack:///./src/assignment8/index.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","8","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","this","oldJsonpFunction","slice","initializePositionBuffer","gl","positionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","initializeTextureBuffer","textureCoordBuffer","initializeIndexBuffer","indexBuffer","ELEMENT_ARRAY_BUFFER","Uint16Array","clearScene","clearColor","clearDepth","enable","DEPTH_TEST","depthFunc","LEQUAL","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","fieldOfView","Math","PI","canvas","aspect","clientWidth","clientHeight","projectionMatrix","perspective","configurePositionBufferRead","buffers","parameters","position","vertexAttribPointer","attribLocations","vertexPosition","FLOAT","enableVertexAttribArray","configureTextureBufferRead","type","textureCoord","setUniforms","modelViewMatrix","uniformMatrix4fv","uniformLocations","loadShader","source","shader","createShader","shaderSource","compileShader","isPowerOf2","document","getElementById","getContext","shaderProgram","vertexShaderCode","textContent","fragmentShaderCode","vertexShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","initializeShaderProgram","program","getAttribLocation","getUniformLocation","getProgramParameters","indices","initializeBuffers","texture","url","createTexture","bindTexture","TEXTURE_2D","internalFormat","RGBA","srcFormat","srcType","UNSIGNED_BYTE","pixel","Uint8Array","texImage2D","image","Image","onload","width","height","generateMipmap","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","src","loadTexture","then","squareRotation","requestAnimationFrame","render","now","deltaTime","translate","rotate","useProgram","drawElements","TRIANGLES","UNSIGNED_SHORT","activeTexture","TEXTURE0","uniform1i","uSampler","addEventListener"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAKlC,IAFGe,GAAqBA,EAAoBhB,GAEtCO,EAASC,QACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrBiB,EAAG,GAGAZ,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU8B,QAGnC,IAAIC,EAASH,EAAiB5B,GAAY,CACzCK,EAAGL,EACHgC,GAAG,EACHF,QAAS,IAUV,OANAhB,EAAQd,GAAUW,KAAKoB,EAAOD,QAASC,EAAQA,EAAOD,QAASJ,GAG/DK,EAAOC,GAAI,EAGJD,EAAOD,QAKfJ,EAAoBO,EAAInB,EAGxBY,EAAoBQ,EAAIN,EAGxBF,EAAoBS,EAAI,SAASL,EAASM,EAAMC,GAC3CX,EAAoBY,EAAER,EAASM,IAClC5B,OAAO+B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEX,EAAoBgB,EAAI,SAASZ,GACX,oBAAXa,QAA0BA,OAAOC,aAC1CpC,OAAO+B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DrC,OAAO+B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKzC,OAAO0C,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBzC,OAAO+B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBS,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAL,EAAoBS,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRX,EAAoBY,EAAI,SAASgB,EAAQC,GAAY,OAAO/C,OAAOC,UAAUC,eAAeC,KAAK2C,EAAQC,IAGzG7B,EAAoB8B,EAAI,GAExB,IAAIC,EAAaC,KAAmB,aAAIA,KAAmB,cAAK,GAC5DC,EAAmBF,EAAW5C,KAAKuC,KAAKK,GAC5CA,EAAW5C,KAAOf,EAClB2D,EAAaA,EAAWG,QACxB,IAAI,IAAIvD,EAAI,EAAGA,EAAIoD,EAAWlD,OAAQF,IAAKP,EAAqB2D,EAAWpD,IAC3E,IAAIU,EAAsB4C,EAI1B1C,EAAgBJ,KAAK,CAAC,GAAG,KAElBM,I;;;;;;gICjJF,IAYD0C,EAA2B,SAACC,GAChC,IAAMC,EAAiBD,EAAGE,eAC1BF,EAAGG,WAAWH,EAAGI,aAAcH,GAY/B,OADAD,EAAGK,WAAWL,EAAGI,aAAc,IAAIE,aATjB,EAChB,GAAM,EAAM,EAAQ,GAAM,EAAM,EAAQ,EAAM,EAAM,GAAQ,EAAM,EAAM,GACxE,GAAM,GAAM,GAAQ,EAAM,GAAM,EAAQ,EAAM,GAAM,EAAQ,GAAM,GAAM,GACxE,EAAM,GAAM,GAAQ,EAAM,EAAM,EAAQ,EAAM,EAAM,EAAQ,EAAM,GAAM,GACxE,GAAM,GAAM,EAAQ,GAAM,GAAM,EAAQ,GAAM,EAAM,GAAQ,GAAM,EAAM,EACxE,GAAM,GAAM,EAAQ,EAAM,GAAM,EAAQ,EAAM,EAAM,EAAQ,GAAM,EAAM,GACxE,GAAM,GAAM,GAAQ,GAAM,EAAM,GAAQ,EAAM,EAAM,GAAQ,EAAM,GAAM,IAGdN,EAAGO,aACxDN,GAGHO,EAA0B,SAACR,GAC/B,IAAMS,EAAqBT,EAAGE,eAC9BF,EAAGG,WAAWH,EAAGI,aAAcK,GAgB/B,OANAT,EAAGK,WACDL,EAAGI,aACH,IAAIE,aAVqB,CACzB,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EACtC,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EACtC,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EACtC,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EACtC,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EACtC,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,IAKtCN,EAAGO,aAGEE,GAGHC,EAAwB,SAACV,GAC7B,IAAMW,EAAcX,EAAGE,eACvBF,EAAGG,WAAWH,EAAGY,qBAAsBD,GAkBvC,OANAX,EAAGK,WACDL,EAAGY,qBACH,IAAIC,YAXU,CACX,EAAI,EAAI,EAAQ,EAAI,EAAI,EACxB,EAAI,EAAI,EAAQ,EAAI,EAAI,EACxB,EAAI,EAAG,GAAS,EAAG,GAAI,GACxB,GAAI,GAAI,GAAQ,GAAI,GAAI,GACxB,GAAI,GAAI,GAAQ,GAAI,GAAI,GACxB,GAAI,GAAI,GAAQ,GAAI,GAAI,KAM1Bb,EAAGO,aAGEI,G,QCpCHG,EAAa,SAACd,GAClBA,EAAGe,WAAW,EAAK,EAAK,EAAK,GAC7Bf,EAAGgB,WAAW,GACdhB,EAAGiB,OAAOjB,EAAGkB,YACblB,EAAGmB,UAAUnB,EAAGoB,QAChBpB,EAAGqB,MAAMrB,EAAGsB,iBAAmBtB,EAAGuB,mBAG9B,EAAyB,SAACvB,GAC9B,IAAMwB,EAAe,GAAKC,KAAKC,GAAM,IAC/BC,EAAS3B,EAAG2B,OACZC,EAASD,EAAOE,YAAcF,EAAOG,aAGrCC,EAAmB,IAAK3C,SAE9B,OADA,IAAK4C,YAAYD,EAAkBP,EAAaI,EAHlC,GACD,KAGNG,GAGHE,EAA8B,SAClCjC,EACAkC,EACAC,GAEAnC,EAAGG,WAAWH,EAAGI,aAAc8B,EAAQE,UACvCpC,EAAGqC,oBACDF,EAAWG,gBAAgBC,eAC3B,EACAvC,EAAGwC,OACH,EACA,EACA,GAEFxC,EAAGyC,wBAAwBN,EAAWG,gBAAgBC,iBAGlDG,EAA6B,SACjC1C,EACAkC,EACAC,GAEA,IACMQ,EAAO3C,EAAGwC,MAIhBxC,EAAGG,WAAWH,EAAGI,aAAc8B,EAAQU,cACvC5C,EAAGqC,oBACDF,EAAWG,gBAAgBM,aAPjB,EASVD,GAPgB,EACH,EACA,GAUf3C,EAAGyC,wBAAwBN,EAAWG,gBAAgBM,eAGlDC,EAAc,SAClB7C,EACAmC,EACAJ,EACAe,GAEA9C,EAAG+C,iBACDZ,EAAWa,iBAAiBjB,kBAC5B,EACAA,GAEF/B,EAAG+C,iBACDZ,EAAWa,iBAAiBF,iBAC5B,EACAA,IC1FEG,EAAa,SACjBjD,EACA2C,EACAO,GAEA,IAAMC,EAASnD,EAAGoD,aAAaT,GAG/B,OAFA3C,EAAGqD,aAAaF,EAAQD,GACxBlD,EAAGsD,cAAcH,GACVA,GCoBHI,EAAa,SAACxE,GAClB,OAAgC,IAAxBA,EAASA,EAAQ,IC9Cd,EAAO,WAClB,IACMiB,EADSwD,SAASC,eAAe,UACrBC,WAAW,SAEvBC,EFH+B,SAAC3D,GACtC,IAAM4D,EAAmBJ,SAASC,eAAe,iBAAiBI,YAC5DC,EAAqBN,SAASC,eAAe,mBAChDI,YAEGE,EAAed,EAAWjD,EAAIA,EAAGgE,cAAeJ,GAChDK,EAAiBhB,EAAWjD,EAAIA,EAAGkE,gBAAiBJ,GAEpDH,EAAgB3D,EAAGmE,gBAKzB,OAJAnE,EAAGoE,aAAaT,EAAeI,GAC/B/D,EAAGoE,aAAaT,EAAeM,GAC/BjE,EAAGqE,YAAYV,GAERA,EEVeW,CAAwBtE,GACxCmC,EFuB4B,SAClCnC,EACA2D,GAEA,MAAO,CACLY,QAASZ,EACTrB,gBAAiB,CACfC,eAAgBvC,EAAGwE,kBAAkBb,EAAe,mBACpDf,aAAc5C,EAAGwE,kBAAkBb,EAAe,kBAEpDX,iBAAkB,CAChBjB,iBAAkB/B,EAAGyE,mBACnBd,EACA,qBAEFb,gBAAiB9C,EAAGyE,mBAAmBd,EAAe,sBEtCvCe,CAAqB1E,EAAI2D,GACtCzB,EJLyB,SAAClC,GAKhC,MAAO,CACLoC,SALqBrC,EAAyBC,GAM9C4C,aALyBpC,EAAwBR,GAMjD2E,QALkBjE,EAAsBV,IIE1B4E,CAAkB5E,GAE5B6E,EDbmB,SAAC7E,EAA2B8E,GACrD,IAAMD,EAAU7E,EAAG+E,gBACnB/E,EAAGgF,YAAYhF,EAAGiF,WAAYJ,GAE9B,IACMK,EAAiBlF,EAAGmF,KAIpBC,EAAYpF,EAAGmF,KACfE,EAAUrF,EAAGsF,cACbC,EAAQ,IAAIC,WAAW,CAAC,EAAG,EAAG,IAAK,MAEzCxF,EAAGyF,WACDzF,EAAGiF,WAVS,EAYZC,EAVY,EACC,EACA,EAYbE,EACAC,EACAE,GAGF,IAAMG,EAAQ,IAAIC,MAsBlB,OArBAD,EAAME,OAAS,WACb5F,EAAGgF,YAAYhF,EAAGiF,WAAYJ,GAC9B7E,EAAGyF,WACDzF,EAAGiF,WAzBO,EA2BVC,EACAE,EACAC,EACAK,GAGEnC,EAAWmC,EAAMG,QAAUtC,EAAWmC,EAAMI,QAC9C9F,EAAG+F,eAAe/F,EAAGiF,aAErBjF,EAAGgG,cAAchG,EAAGiF,WAAYjF,EAAGiG,eAAgBjG,EAAGkG,eACtDlG,EAAGgG,cAAchG,EAAGiF,WAAYjF,EAAGmG,eAAgBnG,EAAGkG,eACtDlG,EAAGgG,cAAchG,EAAGiF,WAAYjF,EAAGoG,mBAAoBpG,EAAGqG,UAG9DX,EAAMY,IAAMxB,EAELD,EClCS0B,CAAYvG,EAAI,cAE5BwG,EAAO,EACPC,EAAiB,EAUrBC,uBATe,SAATC,EAAUC,GAEd,IAAMC,GADND,GAAO,MACiBJ,EAExBA,EAAOI,EHhBc,SACvB5G,EACAmC,EACAD,EACAuE,EACA5B,GAEA/D,EAAWd,GACX,IAAM+B,EAAmB,EAAuB/B,GAC1C8C,EAAkB,IAAK1D,SAE7B,IAAK0H,UAAUhE,EAAiBA,EAAiB,EAAE,EAAK,GAAM,IAC9D,IAAKiE,OAAOjE,EAAiBA,EAAiB2D,EAAgB,CAAC,EAAG,EAAG,IACrE,IAAKM,OAAOjE,EAAiBA,EAAkC,GAAjB2D,EAAsB,CAClE,EACA,EACA,IAGFxE,EAA4BjC,EAAIkC,EAASC,GACzCO,EAA2B1C,EAAIkC,EAASC,GAExCnC,EAAGgH,WAAW7E,EAAWoC,SACzB1B,EAAY7C,EAAImC,EAAYJ,EAAkBe,GAE9C9C,EAAGG,WAAWH,EAAGY,qBAAsBsB,EAAQyC,SAC/C3E,EAAGiH,aAAajH,EAAGkH,UAAW,GAAIlH,EAAGmH,eAAgB,GAErDnH,EAAGoH,cAAcpH,EAAGqH,UAEpBrH,EAAGgF,YAAYhF,EAAGiF,WAAYJ,GAE9B7E,EAAGsH,UAAUnF,EAAWa,iBAAiBuE,SAAU,GGfjD,CAAUvH,EAAImC,EAAYD,EAF1BuE,GAAkBI,EAEiChC,GAEnD6B,sBAAsBC,OCtB1BnD,SAASgE,iBAAiB,oBAAoB,WAC5C","file":"static/js/assignment8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t8: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = this[\"webpackJsonp\"] = this[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([46,10]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export interface Buffers {\n  position: WebGLBuffer;\n  textureCoord: WebGLBuffer;\n  indices: WebGLBuffer;\n}\n\nexport const initializeBuffers = (gl: WebGLRenderingContext): Buffers => {\n  const positionBuffer = initializePositionBuffer(gl);\n  const textureCoordBuffer = initializeTextureBuffer(gl);\n  const indexBuffer = initializeIndexBuffer(gl);\n\n  return {\n    position: positionBuffer,\n    textureCoord: textureCoordBuffer,\n    indices: indexBuffer,\n  };\n};\n\nconst initializePositionBuffer = (gl: WebGLRenderingContext) => {\n  const positionBuffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n  // prettier-ignore\n  const positions = [\n   -1.0, -1.0,  1.0,    1.0, -1.0,  1.0,    1.0,  1.0,  1.0,   -1.0,  1.0,  1.0, // front\n   -1.0, -1.0, -1.0,   -1.0,  1.0, -1.0,    1.0,  1.0, -1.0,    1.0, -1.0, -1.0, // back\n   -1.0,  1.0, -1.0,   -1.0,  1.0,  1.0,    1.0,  1.0,  1.0,    1.0,  1.0, -1.0, // top\n   -1.0, -1.0, -1.0,    1.0, -1.0, -1.0,    1.0, -1.0,  1.0,   -1.0, -1.0,  1.0, // bottom\n    1.0, -1.0, -1.0,    1.0,  1.0, -1.0,    1.0,  1.0,  1.0,    1.0, -1.0,  1.0, // right\n   -1.0, -1.0, -1.0,   -1.0, -1.0,  1.0,   -1.0,  1.0,  1.0,   -1.0,  1.0, -1.0, // left\n  ];\n\n  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);\n  return positionBuffer;\n};\n\nconst initializeTextureBuffer = (gl: WebGLRenderingContext) => {\n  const textureCoordBuffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, textureCoordBuffer);\n  // prettier-ignore\n  const textureCoordinates = [\n    0.0, 0.0,  1.0, 0.0,  1.0, 1.0,  0.0, 1.0,\n    0.0, 0.0,  1.0, 0.0,  1.0, 1.0,  0.0, 1.0,\n    0.0, 0.0,  1.0, 0.0,  1.0, 1.0,  0.0, 1.0,\n    0.0, 0.0,  1.0, 0.0,  1.0, 1.0,  0.0, 1.0,\n    0.0, 0.0,  1.0, 0.0,  1.0, 1.0,  0.0, 1.0,\n    0.0, 0.0,  1.0, 0.0,  1.0, 1.0,  0.0, 1.0,\n  ];\n  gl.bufferData(\n    gl.ARRAY_BUFFER,\n    new Float32Array(textureCoordinates),\n    gl.STATIC_DRAW\n  );\n\n  return textureCoordBuffer;\n};\n\nconst initializeIndexBuffer = (gl: WebGLRenderingContext) => {\n  const indexBuffer = gl.createBuffer();\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\n\n  // prettier-ignore\n  const indices = [\n       0,  1,  2,      0,  2,  3, // front\n       4,  5,  6,      4,  6,  7, // back\n       8,  9, 10,      8, 10, 11, // top\n      12, 13, 14,     12, 14, 15, // bottom\n      16, 17, 18,     16, 18, 19, // right\n      20, 21, 22,     20, 22, 23, // left\n    ];\n\n  gl.bufferData(\n    gl.ELEMENT_ARRAY_BUFFER,\n    new Uint16Array(indices),\n    gl.STATIC_DRAW\n  );\n\n  return indexBuffer;\n};\n","import { mat4 } from \"gl-matrix\";\n\nimport { Buffers } from \"./buffers\";\nimport { ProgramParameters } from \"./shaders\";\n\nexport const drawScene = (\n  gl: WebGLRenderingContext,\n  parameters: ProgramParameters,\n  buffers: Buffers,\n  squareRotation: number,\n  texture: WebGLTexture\n) => {\n  clearScene(gl);\n  const projectionMatrix = createProjectionMatrix(gl);\n  const modelViewMatrix = mat4.create();\n\n  mat4.translate(modelViewMatrix, modelViewMatrix, [-0.0, 0.0, -6.0]);\n  mat4.rotate(modelViewMatrix, modelViewMatrix, squareRotation, [0, 0, 1]);\n  mat4.rotate(modelViewMatrix, modelViewMatrix, squareRotation * 0.7, [\n    0,\n    1,\n    0,\n  ]);\n\n  configurePositionBufferRead(gl, buffers, parameters);\n  configureTextureBufferRead(gl, buffers, parameters);\n\n  gl.useProgram(parameters.program);\n  setUniforms(gl, parameters, projectionMatrix, modelViewMatrix);\n\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffers.indices);\n  gl.drawElements(gl.TRIANGLES, 36, gl.UNSIGNED_SHORT, 0);\n  // Tell WebGL we want to affect texture unit 0\n  gl.activeTexture(gl.TEXTURE0);\n  // Bind the texture to texture unit 0\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  // Tell the shader we bound the texture to texture unit 0\n  gl.uniform1i(parameters.uniformLocations.uSampler, 0);\n};\n\nconst clearScene = (gl: WebGLRenderingContext) => {\n  gl.clearColor(0.0, 0.0, 0.0, 1.0);\n  gl.clearDepth(1.0);\n  gl.enable(gl.DEPTH_TEST);\n  gl.depthFunc(gl.LEQUAL);\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n};\n\nconst createProjectionMatrix = (gl: WebGLRenderingContext) => {\n  const fieldOfView = (45 * Math.PI) / 180;\n  const canvas = gl.canvas as HTMLCanvasElement;\n  const aspect = canvas.clientWidth / canvas.clientHeight;\n  const zNear = 0.1;\n  const zFar = 100.0;\n  const projectionMatrix = mat4.create();\n  mat4.perspective(projectionMatrix, fieldOfView, aspect, zNear, zFar);\n  return projectionMatrix;\n};\n\nconst configurePositionBufferRead = (\n  gl: WebGLRenderingContext,\n  buffers: Buffers,\n  parameters: ProgramParameters\n) => {\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffers.position);\n  gl.vertexAttribPointer(\n    parameters.attribLocations.vertexPosition,\n    3,\n    gl.FLOAT,\n    false,\n    0,\n    0\n  );\n  gl.enableVertexAttribArray(parameters.attribLocations.vertexPosition);\n};\n\nconst configureTextureBufferRead = (\n  gl: WebGLRenderingContext,\n  buffers: Buffers,\n  parameters: ProgramParameters\n) => {\n  const num = 2;\n  const type = gl.FLOAT;\n  const normalize = false;\n  const stride = 0;\n  const offset = 0;\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffers.textureCoord);\n  gl.vertexAttribPointer(\n    parameters.attribLocations.textureCoord,\n    num,\n    type,\n    normalize,\n    stride,\n    offset\n  );\n  gl.enableVertexAttribArray(parameters.attribLocations.textureCoord);\n};\n\nconst setUniforms = (\n  gl: WebGLRenderingContext,\n  parameters: ProgramParameters,\n  projectionMatrix: mat4,\n  modelViewMatrix: mat4\n) => {\n  gl.uniformMatrix4fv(\n    parameters.uniformLocations.projectionMatrix,\n    false,\n    projectionMatrix\n  );\n  gl.uniformMatrix4fv(\n    parameters.uniformLocations.modelViewMatrix,\n    false,\n    modelViewMatrix\n  );\n};\n","export interface ProgramParameters {\n  program: WebGLProgram;\n  attribLocations: { [key: string]: number };\n  uniformLocations: { [key: string]: WebGLUniformLocation };\n}\n\nexport const initializeShaderProgram = (gl: WebGLRenderingContext) => {\n  const vertexShaderCode = document.getElementById(\"vertex-shader\").textContent;\n  const fragmentShaderCode = document.getElementById(\"fragment-shader\")\n    .textContent;\n\n  const vertexShader = loadShader(gl, gl.VERTEX_SHADER, vertexShaderCode);\n  const fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, fragmentShaderCode);\n\n  const shaderProgram = gl.createProgram();\n  gl.attachShader(shaderProgram, vertexShader);\n  gl.attachShader(shaderProgram, fragmentShader);\n  gl.linkProgram(shaderProgram);\n\n  return shaderProgram;\n};\n\nconst loadShader = (\n  gl: WebGLRenderingContext,\n  type: number,\n  source: string\n) => {\n  const shader = gl.createShader(type);\n  gl.shaderSource(shader, source);\n  gl.compileShader(shader);\n  return shader;\n};\n\nexport const getProgramParameters = (\n  gl: WebGLRenderingContext,\n  shaderProgram: WebGLProgram\n): ProgramParameters => {\n  return {\n    program: shaderProgram,\n    attribLocations: {\n      vertexPosition: gl.getAttribLocation(shaderProgram, \"aVertexPosition\"),\n      textureCoord: gl.getAttribLocation(shaderProgram, \"aTextureCoord\"),\n    },\n    uniformLocations: {\n      projectionMatrix: gl.getUniformLocation(\n        shaderProgram,\n        \"uProjectionMatrix\"\n      ),\n      modelViewMatrix: gl.getUniformLocation(shaderProgram, \"uModelViewMatrix\"),\n    },\n  };\n};\n","export const loadTexture = (gl: WebGLRenderingContext, url: string) => {\n  const texture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n\n  const level = 0;\n  const internalFormat = gl.RGBA;\n  const width = 1;\n  const height = 1;\n  const border = 0;\n  const srcFormat = gl.RGBA;\n  const srcType = gl.UNSIGNED_BYTE;\n  const pixel = new Uint8Array([0, 0, 255, 255]);\n\n  gl.texImage2D(\n    gl.TEXTURE_2D,\n    level,\n    internalFormat,\n    width,\n    height,\n    border,\n    srcFormat,\n    srcType,\n    pixel\n  );\n\n  const image = new Image();\n  image.onload = function () {\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texImage2D(\n      gl.TEXTURE_2D,\n      level,\n      internalFormat,\n      srcFormat,\n      srcType,\n      image\n    );\n\n    if (isPowerOf2(image.width) && isPowerOf2(image.height)) {\n      gl.generateMipmap(gl.TEXTURE_2D);\n    } else {\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    }\n  };\n  image.src = url;\n\n  return texture;\n};\n\nconst isPowerOf2 = (value: number) => {\n  return (value & (value - 1)) == 0;\n};\n","import { initializeBuffers } from \"./buffers\";\nimport { drawScene } from \"./render\";\nimport { getProgramParameters, initializeShaderProgram } from \"./shaders\";\nimport { loadTexture } from \"./textures\";\n\nexport const main = () => {\n  const canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\n  const gl = canvas.getContext(\"webgl\");\n\n  const shaderProgram = initializeShaderProgram(gl);\n  const parameters = getProgramParameters(gl, shaderProgram);\n  const buffers = initializeBuffers(gl);\n\n  const texture = loadTexture(gl, \"rubics.png\");\n\n  let then = 0;\n  let squareRotation = 0.0;\n  const render = (now: number) => {\n    now *= 0.001;\n    const deltaTime = now - then;\n    squareRotation += deltaTime;\n    then = now;\n    drawScene(gl, parameters, buffers, squareRotation, texture);\n\n    requestAnimationFrame(render);\n  };\n  requestAnimationFrame(render);\n};\n","import { main } from \"./main\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  main();\n});\n"],"sourceRoot":""}